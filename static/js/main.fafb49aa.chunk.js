(this["webpackJsonpnumber-vote"]=this["webpackJsonpnumber-vote"]||[]).push([[0],{13:function(e,t,n){e.exports=n(34)},18:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),l=(n(18),n(1)),u=n.n(l),i=n(3),s=n(2),m=n(12),f=n(11),h=n.n(f),p=(n(31),function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],c=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://number-votes-api.herokuapp.com/logs",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("button",{onClick:c},"Get logs"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Url"),r.a.createElement("th",null,"JSON")),n.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,e.date),r.a.createElement("th",null,e.url),r.a.createElement("th",null,JSON.stringify(e.json,null,2)))}))))}),d=(n(32),function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://number-votes-api.herokuapp.com/vote",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({number:n})}).then((function(e){return e.json()})).then((function(){e.getData(),e.closeModal()})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"Vote"},[1,2,3,4,5,6,7,8,9].map((function(e){return r.a.createElement("button",{id:"number",key:e,onClick:function(){return t(e)}},e)})),r.a.createElement("button",{id:"close",onClick:e.closeModal},"Cancel"))});n(33);var b=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1];function c(){o(!1)}var l=Object(a.useState)("main"),f=Object(s.a)(l,2),b=f[0],E=f[1],v=Object(a.useState)([]),g=Object(s.a)(v,2),j=g[0],O=g[1],k=Object(a.useState)("2020-10-05"),w=Object(s.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)("https://number-votes-api.herokuapp.com/statistic?date=2020-10-05"),x=Object(s.a)(S,2),M=x[0],N=x[1];Object(a.useEffect)((function(){P()}),[M]);var P=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return O(e)})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:function(){"main"===b?E("logs"):"logs"===b&&E("main")}},"Logs/Main page"),"main"===b?r.a.createElement("div",null,r.a.createElement("p",null,'Enter data (e.g. "2020-10-05")'),r.a.createElement("input",{type:"text",value:y,onChange:function(e){return C(e.target.value)}}),r.a.createElement("button",{onClick:function(){N("https://number-votes-api.herokuapp.com/statistic?date=".concat(y))}},"Get votes"),r.a.createElement("button",{onClick:function(){o(!0)}},"Vote"),r.a.createElement(h.a,{className:"Modal",ariaHideApp:!1,isOpen:n,onRequestClose:c,contentLabel:"Example Modal"},r.a.createElement(d,{closeModal:c,getData:P})),r.a.createElement(m.PieChart,{className:"Chart",center:[150,110],viewBoxSize:[300,300],segmentsShift:2,radius:100,lineWidth:90,data:j.map((function(e){return{title:e.number,value:e.count,color:"#".concat(e.count>9?Math.floor(10*Math.random())+"F":e.count+"0","F")}})),label:function(e){return"".concat(e.dataEntry.title,"(").concat(Math.round(e.dataEntry.percentage),"%)")},labelPosition:70})):r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.fafb49aa.chunk.js.map