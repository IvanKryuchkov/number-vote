(this["webpackJsonpnumber-vote"]=this["webpackJsonpnumber-vote"]||[]).push([[0],{25:function(e,t,n){e.exports=n(49)},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},45:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),l=(n(30),n(11)),u=n(1),i=n(6),s=n.n(i),m=n(10),h=n(9),f=(n(32),function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],o=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://number-votes-api.herokuapp.com/logs",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("button",{onClick:o},"Get logs"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Url"),r.a.createElement("th",null,"JSON")),n.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,e.date),r.a.createElement("th",null,e.url),r.a.createElement("th",null,JSON.stringify(e.json,null,2)))}))))}),p=n(23),d=(n(33),function(e){var t=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://number-votes-api.herokuapp.com/vote",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({number:n})}).then((function(e){return e.json()})).then((function(){e.getData(),e.closeModal()})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"Vote"},[1,2,3,4,5,6,7,8,9].map((function(e){return r.a.createElement("button",{id:"number",key:e,onClick:function(){return t(e)}},e)})),r.a.createElement("button",{id:"close",onClick:e.closeModal},"Cancel"))}),E=n(22),v=n.n(E),b=(n(45),function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1];function o(){c(!1)}var l=Object(a.useState)([]),u=Object(h.a)(l,2),i=u[0],f=u[1],E=Object(a.useState)("2020-10-05"),b=Object(h.a)(E,2),g=b[0],j=b[1],O=Object(a.useState)("https://number-votes-api.herokuapp.com/statistic?date=2020-10-05"),w=Object(h.a)(O,2),y=w[0],k=w[1];Object(a.useEffect)((function(){C()}),[y]);var C=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return f(e)})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,'Enter data (e.g. "2020-10-05")'),r.a.createElement("input",{type:"text",value:g,onChange:function(e){return j(e.target.value)}}),r.a.createElement("button",{onClick:function(){k("https://number-votes-api.herokuapp.com/statistic?date=".concat(g))}},"Get votes"),r.a.createElement("button",{onClick:function(){c(!0)}},"Vote"),r.a.createElement(v.a,{className:"Modal",ariaHideApp:!1,isOpen:n,onRequestClose:o,contentLabel:"Example Modal"},r.a.createElement(d,{closeModal:o,getData:C})),0==i.length?r.a.createElement("div",null,"No data"):r.a.createElement(p.PieChart,{className:"Chart",center:[150,110],viewBoxSize:[300,300],segmentsShift:2,radius:100,lineWidth:90,data:i.map((function(e){return{title:e._id,value:e.count,color:"#".concat(e.count>9?Math.floor(10*Math.random())+"F":e.count+"0","F")}})),label:function(e){return"".concat(e.dataEntry.title,"(").concat(Math.round(e.dataEntry.percentage),"%)")},labelPosition:70}))});var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("div",null,r.a.createElement(l.b,{to:"/"},"Main")),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/logs"},"Logs"))),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(b,null)),r.a.createElement(u.a,{path:"/logs"},r.a.createElement(f,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.ba6acc6b.chunk.js.map